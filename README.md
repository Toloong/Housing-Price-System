# æˆ¿ä»·åˆ†æç³»ç»Ÿ

åŸºäº FastAPI + Streamlit + SQLite çš„æˆ¿ä»·æ•°æ®åˆ†æç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ç®¡ç†å’Œæ•°æ®å¯è§†åŒ–ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå®‰è£…ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
```bash
# Windowsä¸€é”®å®‰è£…
setup.bat
```

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# Windows
start.bat
```

### æ‰‹åŠ¨å¯åŠ¨
```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\.venv\Scripts\activate

# 2. å¯åŠ¨åç«¯API
python -m uvicorn backend.main:app --reload --port 8000

# 3. å¯åŠ¨å‰ç«¯ç•Œé¢ï¼ˆæ–°ç»ˆç«¯ï¼‰
streamlit run frontend/app.py --server.port 8501
```

## ğŸ“± è®¿é—®åœ°å€

- **å‰ç«¯ç•Œé¢**: http://localhost:8501
- **åç«¯API**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
Housing_Price/
â”œâ”€â”€ backend/                 # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ main.py             # FastAPIä¸»åº”ç”¨
â”‚   â”œâ”€â”€ database.py         # SQLiteæ•°æ®åº“ç®¡ç†
â”‚   â””â”€â”€ housing_price.db    # SQLiteæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ frontend/               # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ app.py             # Streamlitä¸»åº”ç”¨
â”‚   â””â”€â”€ style.css          # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ data/                  # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ housing_data.csv   # æˆ¿ä»·æ•°æ®
â”œâ”€â”€ scraper/               # æ•°æ®çˆ¬è™«(å¯é€‰)
â”œâ”€â”€ start.bat              # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸ” æµ‹è¯•è´¦æˆ·

| ç”¨æˆ·å | å¯†ç  | é‚®ç®± |
|--------|------|------|
| testuser | password123 | test@example.com |
| testuser2 | password123 | test2@example.com |

## âš¡ åŠŸèƒ½ç‰¹æ€§

### ğŸ  æˆ¿ä»·åˆ†æ
- åŸå¸‚æˆ¿ä»·æŸ¥è¯¢
- å†å²è¶‹åŠ¿åˆ†æ  
- åŒºåŸŸä»·æ ¼å¯¹æ¯”
- æ•°æ®å¯è§†åŒ–å›¾è¡¨
- AIæ™ºèƒ½åˆ†æåŠ©æ‰‹

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- JWTä»¤ç‰Œè®¤è¯
- ç”¨æˆ·æƒé™ç®¡ç†
- æ´»åŠ¨æ—¥å¿—è®°å½•

### ğŸ¤– AIåŠ©æ‰‹åŠŸèƒ½
- æˆ¿ä»·è¶‹åŠ¿æ™ºèƒ½åˆ†æ
- æŠ•èµ„å»ºè®®ç”Ÿæˆ
- å¸‚åœºæ´å¯ŸæŠ¥å‘Š
- è‡ªç„¶è¯­è¨€æŸ¥è¯¢

### ğŸ”§ æŠ€æœ¯æ ˆ
- **åç«¯**: FastAPI, SQLite, Pydantic
- **å‰ç«¯**: Streamlit, Pandas, Plotly
- **æ•°æ®**: CSVæ•°æ®æºï¼Œæ”¯æŒçˆ¬è™«æ‰©å±•
- **è®¤è¯**: JWTä»¤ç‰Œè®¤è¯

## ğŸ“¦ å®‰è£…ä¾èµ–

### è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰
```bash
# Windows - ä¸€é”®å®‰è£…ç¯å¢ƒ
setup.bat
```

### æ‰‹åŠ¨å®‰è£…
```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv

# 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
.\.venv\Scripts\activate
# Linux/Mac
source .venv/bin/activate

# 3. å®‰è£…ä¾èµ–
pip install --upgrade pip
pip install -r requirements.txt

# 4. åˆå§‹åŒ–æ•°æ®åº“
python -c "from backend.database import init_sqlite_database; init_sqlite_database()"
```

## ğŸ”§ å¼€å‘è¯´æ˜

### ä¸»è¦APIæ¥å£

#### æˆ¿ä»·åˆ†ææ¥å£
- `GET /search?city=åŸå¸‚å` - æˆ¿ä»·æŸ¥è¯¢
- `GET /trend?city=åŸå¸‚å&area=åŒºåŸŸ` - è¶‹åŠ¿åˆ†æ
- `GET /compare?city1=åŸå¸‚1&city2=åŸå¸‚2` - åŸå¸‚å¯¹æ¯”
- `GET /stats?city=åŸå¸‚å` - ç»Ÿè®¡æ•°æ®
- `POST /ai/analyze` - AIæ™ºèƒ½åˆ†æ

#### ç”¨æˆ·ç®¡ç†æ¥å£
- `POST /auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `GET /auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /auth/users` - è·å–ç”¨æˆ·åˆ—è¡¨

### æ•°æ®åº“
- ä½¿ç”¨SQLiteæœ¬åœ°æ•°æ®åº“
- è‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„
- æ”¯æŒç”¨æˆ·æ•°æ®å’Œæ—¥å¿—å­˜å‚¨
- æ•°æ®åº“æ–‡ä»¶ï¼š`backend/housing_price.db`

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç”¨æˆ·æ³¨å†Œ
```bash
curl -X POST "http://localhost:8000/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "newuser",
    "email": "user@example.com",
    "password": "password123",
    "full_name": "æ–°ç”¨æˆ·"
  }'
```

### æˆ¿ä»·æŸ¥è¯¢
```bash
curl "http://localhost:8000/search?city=æ·±åœ³"
```

### AIåˆ†æ
```bash
curl -X POST "http://localhost:8000/ai/analyze" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "æ·±åœ³çš„æˆ¿ä»·è¶‹åŠ¿å¦‚ä½•ï¼Ÿ",
    "city": "æ·±åœ³"
  }'
```

## ğŸ› é—®é¢˜æ’æŸ¥

### ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :8000
netstat -ano | findstr :8501

# ç»ˆæ­¢è¿›ç¨‹
taskkill /f /pid <è¿›ç¨‹ID>
```

### ä¾èµ–å®‰è£…å¤±è´¥
```bash
# å‡çº§pip
python -m pip install --upgrade pip

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --force-reinstall
```

### æ•°æ®åº“é—®é¢˜
- å¦‚æœæ•°æ®åº“æ–‡ä»¶æŸåï¼Œåˆ é™¤ `backend/housing_price.db` åé‡å¯ç³»ç»Ÿ
- ç³»ç»Ÿä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºæ•°æ®åº“å’Œè¡¨ç»“æ„

## ğŸš€ éƒ¨ç½²è¯´æ˜

### æœ¬åœ°å¼€å‘
1. å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
2. å®‰è£…Pythonä¾èµ–ï¼š`pip install -r requirements.txt`
3. è¿è¡Œå¯åŠ¨è„šæœ¬ï¼š`start.bat`

### ç”Ÿäº§éƒ¨ç½²
1. é…ç½®ç¯å¢ƒå˜é‡
2. ä½¿ç”¨ Gunicorn æˆ– Uvicorn éƒ¨ç½²åç«¯
3. é…ç½®åå‘ä»£ç† (Nginx)
4. è®¾ç½®HTTPSè¯ä¹¦

## ğŸ› ï¸ å¼€å‘è®¡åˆ’

- [ ] æ·»åŠ æ›´å¤šåŸå¸‚æ•°æ®
- [ ] å®ç°æˆ¿ä»·é¢„æµ‹æ¨¡å‹
- [ ] ä¼˜åŒ–AIåˆ†æç®—æ³•
- [ ] æ·»åŠ é‚®ä»¶é€šçŸ¥åŠŸèƒ½
- [ ] å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯é€‚é…

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“‹ é¡¹ç›®å†ç¨‹

### é—®é¢˜è§£å†³è¿‡ç¨‹
æœ¬é¡¹ç›®æœ€åˆè®¾è®¡ä½¿ç”¨PostgreSQLæ•°æ®åº“ï¼Œä½†åœ¨Windowsç¯å¢ƒä¸‹é‡åˆ°äº†å­—ç¬¦ç¼–ç é—®é¢˜ã€‚ç»è¿‡å¤šæ¬¡å°è¯•ä¿®å¤PostgreSQLçš„ç¼–ç é…ç½®åï¼Œæœ€ç»ˆé‡‡ç”¨SQLiteä½œä¸ºä¸»è¦æ•°æ®åº“è§£å†³æ–¹æ¡ˆï¼Œä¸ä»…è§£å†³äº†ç¼–ç é—®é¢˜ï¼Œè¿˜ç®€åŒ–äº†éƒ¨ç½²æµç¨‹ã€‚

### æŠ€æœ¯é€‰å‹å¯¹æ¯”

#### SQLite vs PostgreSQL
| ç‰¹æ€§ | SQLite | PostgreSQL |
|------|--------|------------|
| å®‰è£…å¤æ‚åº¦ | â­â­â­â­â­ æ— éœ€å®‰è£… | â­â­ éœ€è¦å®‰è£…é…ç½® |
| ç¼–ç é—®é¢˜ | â­â­â­â­â­ æ— ç¼–ç é—®é¢˜ | â­ Windowsç¯å¢ƒç¼–ç å¤æ‚ |
| å¯åŠ¨é€Ÿåº¦ | â­â­â­â­â­ å³æ—¶å¯åŠ¨ | â­â­â­ éœ€è¦æœåŠ¡å¯åŠ¨ |
| èµ„æºå ç”¨ | â­â­â­â­â­ æä½ | â­â­â­ ä¸­ç­‰ |
| å¹¶å‘æ”¯æŒ | â­â­â­ æœ‰é™ | â­â­â­â­â­ ä¼˜ç§€ |
| æ•°æ®å®Œæ•´æ€§ | â­â­â­â­ è‰¯å¥½ | â­â­â­â­â­ ä¼ä¸šçº§ |

### å·²éªŒè¯åŠŸèƒ½
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•ç³»ç»Ÿ
- âœ… JWTä»¤ç‰Œè®¤è¯æœºåˆ¶
- âœ… æˆ¿ä»·æ•°æ®æŸ¥è¯¢åˆ†æ
- âœ… AIæ™ºèƒ½åˆ†æåŠ©æ‰‹
- âœ… æ•°æ®å¯è§†åŒ–å›¾è¡¨
- âœ… å¤šåŸå¸‚å¯¹æ¯”åŠŸèƒ½

### é¡¹ç›®ä¼˜åŠ¿
- **å³å¼€å³ç”¨**: æ— éœ€å¤æ‚çš„æ•°æ®åº“é…ç½®
- **è·¨å¹³å°**: æ”¯æŒWindows/Linux/macOS
- **è½»é‡çº§**: èµ„æºå ç”¨æä½
- **ç¨³å®šå¯é **: ç»è¿‡å…¨é¢æµ‹è¯•éªŒè¯
- **æ˜“äºéƒ¨ç½²**: å•æ–‡ä»¶æ•°æ®åº“ï¼Œä¾¿äºè¿ç§»

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼